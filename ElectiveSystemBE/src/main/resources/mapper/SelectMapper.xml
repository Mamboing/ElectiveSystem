<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ap.electivesystem.mapper.SelectMapper">

    <insert id="insertBatch">
        insert into tb_select(course_id, student_id, select_state) values
        <foreach collection="list" item="courseId" separator=",">
            (#{courseId}, #{studentId}, 0)
        </foreach>
    </insert>
    <select id="findByCourseId" resultType="com.ap.electivesystem.entity.vo.StudentVO">
        select ts.student_id, student_name
        from tb_select inner join tb_student ts on tb_select.student_id = ts.student_id
        where course_id = #{courseId}
    </select>
</mapper>
